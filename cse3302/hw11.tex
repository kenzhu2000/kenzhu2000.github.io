%----PrefaceImport----%
\documentclass{article}
\usepackage{fancyhdr}
\usepackage[a4paper,margin=1in,headsep=25pt]{geometry}
\usepackage{lipsum,hyperref}
\usepackage{enumerate,fullpage,proof}
\usepackage[fontsize=12pt]{fontsize}
\usepackage{amsmath,amscd,amsbsy,amssymb,latexsym,url,bm,amsthm}
\usepackage{epsfig,graphicx,subfigure}
\usepackage{listings}
\usepackage[usenames]{xcolor}

\newtheorem{thm}{Theorem}
\newtheorem{lemma}[thm]{Lemma}

\pagestyle{fancy}
\pagenumbering{Alph}
\setlength{\headheight}{36.0pt}
\headsep = 25pt
\fancyhf{}
\lhead{CSE 3302/5307 Programming Language Concepts}
\rhead{Homework 11:Subtyping}
\lfoot{2024 Kenny Zhu & Essam Abdelghany}
\rfoot{Plagiarism will not be tolerated. We are here to help.}

\lstset{
  language=[Objective]Caml,
  basicstyle=\ttfamily,
  keywordstyle=\color{blue},
  commentstyle=\color{gray},
  stringstyle=\color{green},
  showstringspaces=false,
  numbers=left,
  numberstyle=\tiny,
  breaklines=true,
  frame=single
}

% New command for blank spaces after questions
\newcommand{\answerbox}{
    \vspace{7cm} % Adjust the space size as needed
}
\newcommand{\answerboxbig}{
    \vspace{20cm} % Adjust the space size as needed
}
\newcommand{\answerboxsmall}{
    \vspace{3cm} % Adjust the space size as needed
}

% New command for personal info at the end of the document
\newcommand{\studentinfo}{
    \noindent Name: \underline{\hspace{5cm}} UTA ID: \underline{\hspace{5cm}}\\
    \vspace{0.5cm} % Space after the fields
}

\usepackage{listings}
\usepackage{xcolor}
\usepackage{placeins}

\lstset{
    language=C,
    basicstyle=\ttfamily\footnotesize,
    keywordstyle=\color{blue},
    commentstyle=\color{gray},
    stringstyle=\color{orange},
    numbers=none, % Hides line numbers
    showstringspaces=false,
    breaklines=true,
    frame=single,
    rulecolor=\color{black},
}


\begin{document}

\title{CSE 3302/5307 Programming Language Concepts}
\author{Homework 11 - Fall 2024}
\date{Due Date: Nov.11, 2024, 11:59p.m. Central Time}
\maketitle
\thispagestyle{fancy}

%----Homeworks----%

\section*{Problem 1 - 40\%}

In hw5, we extended tuples to records. Now we extend subtypes to records. Rewrite the typing inference rules and add two rules for widening and deepening the types in the record (similar to tuples). Draw a derivation showing that $\{x:Nat, y:Nat, z:Nat\} <= \{x:Nat\}$. Is it possible to derive $\{x:Nat, y:Nat, z:Nat\} <= \{y:Nat\}$ with only the width and depth subtype rules? Describe what inference rule would be needed to make it possible if it is not.

\answerboxbig


\section*{Problem 2 - 30\%}

For each of (i), the record defined above, (ii), tuples and (iii), functions write a code example to demonstrate that record width rule, tuple depth rule and function S-func rule work, respectively. To do so, write a function application that receives a record, tuple and function and show that it's still valid after changing the input according to the rule.

\answerboxbig


\section*{Problem 3 - 30\%}

Show the type derivation tree for

\begin{lstlisting}
let s = Î»p:Top*Top. {p.1, p.2} in {s {true, true}, s {19, 99}}

\end{lstlisting}


\bibliographystyle{plain}
\end{document}
